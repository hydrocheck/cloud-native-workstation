# Domain for your workstation
domain: example.com
# Public images on Docker Hub
docker:
  registry: ndebuhr
  tag: v0.3.0
# Certbot details
certbot:
  # Valid types are "google" and "cloudflare"
  type: google
  email: admin@example.com
# Keycloak security
keycloak:
  # Change me!
  clientSecret: OkSR7DMXAXzIrZIoWyN8yh0sFkiYrfJd
  # Change me!
  encryptionKey: 2u2iS0FH7pPjOUUn
# Authentication for Code Server and Keycloak
authentication:
  username: workstation
  # Change me!
  password: M@inz!DE
# Network policies and OPA constraint templates
policies:
  enabled: true
# Components included in the workstation
components:
  keycloak:
    resources:
      requests: {}
        # memory: "512Mi"
        # cpu: "250m"
      limits:
        memory: "4Gi"
        cpu: "2"
    postgres:
      resources:
        requests: {}
          # memory: "512Mi"
          # cpu: "250m"
        limits:
          memory: "4Gi"
          cpu: "2"
    gatekeepers:
      resources:
        requests: {}
          # memory: "128Mi"
          # cpu: "50m"
        limits:
          memory: "1Gi"
          cpu: "500m"
    init:
      resources:
        requests: {}
          # memory: "128Mi"
          # cpu: "50m"
        limits:
          memory: "256Mi"
          cpu: "125m"
  haproxy:
    resources:
      requests: {}
        # memory: "256Mi"
        # cpu: "100m"
      limits:
        memory: "2Gi"
        cpu: "1"
  code:
    enabled: true
    resources:
      requests: {}
        # memory: "2Gi"
        # cpu: "1"
      limits:
        memory: "8Gi"
        cpu: "4"
    dind:
      image: docker
      tag: 19-dind
      resources:
        requests: {}
          # memory: "1Gi"
          # cpu: "500m"
        limits:
          memory: "4Gi"
          cpu: "2"
  selenium:
    enabled: false
    novnc:
      resources:
        requests: {}
          # memory: "2Gi"
          # cpu: "1"
        limits:
          memory: "4Gi"
          cpu: "2"
  jupyter:
    enabled: false
    resources:
      requests: {}
        # memory: "2Gi"
        # cpu: "500m"
      limits:
        memory: "8Gi"
        cpu: "4"
  certbot:
    enabled: true
    resources:
      requests: {}
        # memory: "128Mi"
        # cpu: "50m"
      limits:
        memory: "256Mi"
        cpu: "125m"
  landing:
    enabled: false
    resources:
      requests: {}
        # memory: "256Mi"
        # cpu: "125m"
      limits:
        memory: "2Gi"
        cpu: "1"
  sonarqube:
    enabled: false
  guacamole:
    enabled: false
    resources:
      requests: {}
        # memory: "2Gi"
        # cpu: "1"
      limits:
        memory: "4Gi"
        cpu: "1"
    guacd:
      resources:
        requests: {}
          # memory: "2Gi"
          # cpu: "1"
        limits:
          memory: "4Gi"
          cpu: "1"
    postgres:
      resources:
        requests: {}
          # memory: "1Gi"
          # cpu: "500m"
        limits:
          memory: "4Gi"
          cpu: "2"
# Ports for the component endpoints
access:
- name: keycloak
  port: 8080
- name: code
  port: 3000
- name: hugo
  port: 1313
- name: selenium
  port: 4444
- name: chrome
  port: 6080
- name: jupyter
  port: 8888
- name: landing
  port: 443
- name: sonarqube
  port: 9000
- name: guacamole
  port: 8081
podDefaults:
  automountServiceAccountToken: false
  serviceAccountName: workstation-default
# Additional component-specific configuration
selenium:
  hub:
    serviceType: ClusterIP
    resources:
      requests: {}
        # memory: "512Mi"
        # cpu: "1"
      limits:
        cpu: 1
        memory: 2Gi
  chromeDebug:
    enabled: true
    resources:
      limits:
        cpu: 2
        memory: 8Gi
    extraEnvs:
    - name: VNC_NO_PASSWORD
      value: "1"
sonarqube:
  initContainers:
    resources:
      requests: {}
        # memory: "128Mi"
        # cpu: "50m"
      limits:
        memory: "256Mi"
        cpu: "125m"
  resources:
    requests: {}
      # memory: "512Mi"
      # cpu: "1"
    limits:
      cpu: 1
      memory: 2Gi
landing:
  image: gcr.io/google-samples/hello-app:2.0
  targetPort: 8080